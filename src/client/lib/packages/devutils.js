import { App } from "../App.js";
import { i18n } from "../I18n.js";
import { WebixBuildReponsiveTopMenu } from "../WebixWrapper.js";
App.addSimpleItem("", "Dev. Utils", "devutils");
App.addSimpleItem("devutils", "API", "devutils.api");
App.addSimpleItem("devutils", "Logs", "devutils.log");
App.addSimpleItem("devutils", "Push Notifications", "devutils.pushnotifications");
App.on("devutils.pushnotifications", async () => {
    let to = {
        id: "textTo",
        view: "text",
        label: i18n("To"),
        height: 40,
        value: "root"
    };
    let msg = {
        id: "textareaMsg",
        view: "textarea",
        label: i18n("Message"),
        value: `{"title":"ASD","body":"this is the body","icon":"/assets/logo_48.png"}`
    };
    let btSend = {
        view: "button",
        type: "icon",
        icon: "send",
        label: i18n("Send"),
        click: () => {
            //@ts-ignore
            let tostr = $$(to.id).getValue();
            let tos = tostr ? tostr.split(";") : "root";
            //@ts-ignore
            let msg = $$("textareaMsg").getValue();
            let msgo = JSON.parse(msg);
            App.api.sendNotification(tos, msgo);
        }
    };
    let tb = {
        view: "toolbar",
        height: 40,
        elements: [btSend]
    };
    let body = { rows: [to, msg, tb] };
    App.replaceMainMenu(WebixBuildReponsiveTopMenu("Send Push Message", []));
    App.replaceMainContent(body);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGV2dXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY2xpZW50L2xpYi9wYWNrYWdlcy9kZXZ1dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsR0FBRyxFQUFDLE1BQU0sV0FBVyxDQUFBO0FBQzdCLE9BQU8sRUFBQyxJQUFJLEVBQUMsTUFBTSxZQUFZLENBQUM7QUFDaEMsT0FBTyxFQUFDLDBCQUEwQixFQUFDLE1BQU0sb0JBQW9CLENBQUM7QUFFOUQsR0FBRyxDQUFDLGFBQWEsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQ2hELEdBQUcsQ0FBQyxhQUFhLENBQUMsVUFBVSxFQUFFLEtBQUssRUFBRSxjQUFjLENBQUMsQ0FBQztBQUNyRCxHQUFHLENBQUMsYUFBYSxDQUFDLFVBQVUsRUFBRSxNQUFNLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDdEQsR0FBRyxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUUsb0JBQW9CLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztBQUVsRixHQUFHLENBQUMsRUFBRSxDQUFDLDRCQUE0QixFQUFFLEtBQUssSUFBSSxFQUFFO0lBRzVDLElBQUksRUFBRSxHQUFHO1FBQ0wsRUFBRSxFQUFFLFFBQVE7UUFDWixJQUFJLEVBQUUsTUFBTTtRQUNaLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ2pCLE1BQU0sRUFBRSxFQUFFO1FBQ1YsS0FBSyxFQUFFLE1BQU07S0FDTyxDQUFDO0lBRXpCLElBQUksR0FBRyxHQUFHO1FBQ04sRUFBRSxFQUFFLGFBQWE7UUFDakIsSUFBSSxFQUFFLFVBQVU7UUFDaEIsS0FBSyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDdEIsS0FBSyxFQUFFLHdFQUF3RTtLQUN2RCxDQUFDO0lBRTdCLElBQUksTUFBTSxHQUFHO1FBQ1QsSUFBSSxFQUFFLFFBQVE7UUFDZCxJQUFJLEVBQUUsTUFBTTtRQUNaLElBQUksRUFBRSxNQUFNO1FBQ1osS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDbkIsS0FBSyxFQUFFLEdBQUcsRUFBRTtZQUNSLFlBQVk7WUFDWixJQUFJLEtBQUssR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2pDLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQzVDLFlBQVk7WUFDWixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsYUFBYSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDdkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMzQixHQUFHLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4QyxDQUFDO0tBQ3FCLENBQUM7SUFFM0IsSUFBSSxFQUFFLEdBQUc7UUFDTCxJQUFJLEVBQUUsU0FBUztRQUNmLE1BQU0sRUFBRSxFQUFFO1FBQ1YsUUFBUSxFQUFFLENBQUMsTUFBTSxDQUFDO0tBQ3JCLENBQUE7SUFFRCxJQUFJLElBQUksR0FBRyxFQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUMsQ0FBQztJQUVqQyxHQUFHLENBQUMsZUFBZSxDQUNmLDBCQUEwQixDQUFDLG1CQUFtQixFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekQsR0FBRyxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDO0FBRWpDLENBQUMsQ0FBQyxDQUFDIn0=